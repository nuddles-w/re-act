## 1. 核心问题分析
目前的变速逻辑仅在点击特定片段（`handleClipPlay`）时触发一次，但在以下场景中会失效：
- **全局播放**：点击主播放按钮开始播放时，没有检查当前进度所属片段的倍率。
- **跨片段连续播放**：当视频从一个 1x 片段播放到一个 2x 片段时，播放器无法动态切换速度。
- **倍率重置过早**：某些浏览器在播放过程中如果频繁修改倍率可能会有同步延迟。

## 2. 技术方案
### A. 前端：动态倍率同步 (App.jsx)
- **重构 `handleTimeUpdate`**: 
  - 每一帧检查 `currentTime` 落在哪个片段内。
  - 如果检测到当前片段有 `playbackRate` 且与播放器当前倍率不一致，立即更新 `video.playbackRate`。
  - 自动同步 `activeClipId`，使 UI 上的激活状态随播放进度实时跳转。
- **优化 `togglePlay`**:
  - 在开始播放前，根据当前播放头位置预设正确的倍率。

### B. 前端：交互反馈优化 (App.jsx)
- 在视频预览区域增加一个悬浮的“当前倍率”标识，当倍率不是 1x 时显示（如右下角显示 `2.0x`），方便用户直观确认功能生效。

## 3. 实施步骤
1. 修改 [App.jsx](file:///Users/bytedance/Documents/trae_projects/re-act/src/App.jsx) 中的 `handleTimeUpdate` 逻辑，实现“帧级”倍率同步。
2. 更新 [App.jsx](file:///Users/bytedance/Documents/trae_projects/re-act/src/App.jsx) 中的 `togglePlay`，确保全局播放也能正确触发倍率。
3. 优化视觉提示，确保预览窗口能实时反映当前播放速度。

## 4. 预期效果
- 当播放头进入 2x 区域时，视频画面明显变快。
- 当播放头离开 2x 区域进入正常区域时，视频自动恢复 1x 速度。
- 无论是点击片段播放还是点击全局播放，变速效果都 100% 同步。