## 1. 核心目标
在 UI 上增加“Mock 调试模式”，跳过耗时的视频上传和识别过程，直接调试 Agent 的 Re-Act 推理逻辑（Thought -> Action -> Plan）。

## 2. 技术方案
### A. 后端：新增 Mock Agent 服务
- **新建 [mockAgentProvider.js](file:///Users/bytedance/Documents/trae_projects/re-act/server/providers/mockAgentProvider.js)**:
  - 该服务不会上传视频到 Gemini File API。
  - 它会调用 Gemini 的纯文本模式，并注入一个“模拟视频上下文”（例如：假设视频 5s-12s 是捣碎鸡蛋，15s-20s 是加入沙拉）。
  - 模型将基于这个模拟上下文进行 Re-Act 推理，返回思考步骤和剪辑方案。

### B. 后端：路由适配
- **修改 [index.js](file:///Users/bytedance/Documents/trae_projects/re-act/server/index.js)**:
  - 在 `/api/analyze` 接口中增加对 `isMock` 参数的识别。
  - 如果开启 Mock 模式，则路由到 `mockAgentProvider.js`。

### C. 前端：调试开关与交互
- **修改 [App.jsx](file:///Users/bytedance/Documents/trae_projects/re-act/src/App.jsx)**:
  - 在 Prompt 输入区上方增加一个“Mock 调试模式”勾选框。
  - 开启后，点击发送按钮将不再等待视频处理，而是直接获取 Agent 的推理过程并展示在聊天窗口中。
- **优化 UI 展示**: 确保 `agentSteps`（思考步骤）能清晰地展示在对话流中。

## 3. 实施步骤
1. **创建 `mockAgentProvider.js`**: 实现基于模拟上下文的纯文本推理逻辑。
2. **更新 `server/index.js`**: 增加 Mock 模式的条件分支。
3. **更新 `App.jsx`**: 添加 Mock 状态管理、UI 开关，并调整请求逻辑。
4. **样式调整**: 在 [styles.css](file:///Users/bytedance/Documents/trae_projects/re-act/src/styles.css) 中为 Mock 开关添加简洁的样式。

## 4. 预期效果
用户开启 Mock 模式后，输入“帮我把捣碎鸡蛋的片段加速”，系统将立即（几秒内）展示 AI 的思考过程：
- `[Step 1] 思考: 视频中 5s-12s 是捣碎鸡蛋，我需要对其进行分割并加速。`
- `[Step 2] 执行动作: split_video(5, 12)`
- `[Step 3] 执行动作: adjust_speed(5, 12, 2.0)`
同时时间轴会自动根据推理结果进行更新。