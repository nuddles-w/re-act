## 1. 核心目标
实现并交付两个原子剪辑能力（Tools），使 AI 能够通过组合这些能力来执行复杂的剪辑任务：
- **`split_video(startTime, endTime)`**: 在指定时间点精确切割视频。
- **`adjust_speed(startTime, endTime, speed)`**: 对指定范围内的视频片段进行变速处理。

## 2. 技术方案
### A. 后端：更新 Agent 协议 (agentProtocol.js)
- 重新定义可用工具集，仅保留并强化 `split_video` 和 `adjust_speed`。
- 更新 Prompt 示例，展示模型如何先调用 `find_events` 确定时间，再调用 `split_video` 分割，最后 `adjust_speed` 处理。

### B. 前端：升级时间轴处理逻辑 (App.jsx)
- **重构 `applyEditsToTimeline`**: 
  - 实现“碎裂化”算法：不再仅仅是将属性映射到现有片段，而是根据 `edits` 的时间点动态对时间轴进行物理分割。
  - 例如：如果原始片段是 0-30s，用户要求对 10-15s 加速，逻辑将自动将其拆分为三个片段：`[0, 10]`, `[10, 15]`, `[15, 30]`。
- **状态同步**: 确保分割后的每个片段都能独立接收变速指令，并在 UI 上正确渲染。

### C. 联调验证
- 使用指令“帮我把捣碎鸡蛋的片段进行两倍加速”进行测试。
- 预期 Agent 推理过程：
  1. `Thought`: 找到捣碎鸡蛋的时间。
  2. `Action`: `find_events("eggs mashed")` -> `Observation: [3.5, 7.2]`。
  3. `Thought`: 对该片段进行分割。
  4. `Action`: `split_video(3.5, 7.2)`。
  5. `Thought`: 对该片段应用 2 倍速。
  6. `Action`: `adjust_speed(3.5, 7.2, 2.0)`。
  7. `Final Answer`: 完成任务。

## 3. 实施计划
1. 修改 [agentProtocol.js](file:///Users/bytedance/Documents/trae_projects/re-act/server/providers/agentProtocol.js) 明确原子能力定义。
2. 在 [App.jsx](file:///Users/bytedance/Documents/trae_projects/re-act/src/App.jsx) 中重构时间轴分割逻辑，支持动态切分。
3. 优化 [styles.css](file:///Users/bytedance/Documents/trae_projects/re-act/src/styles.css) 以更好地展示分割后的片段边界。
4. 重启服务验证全链路效果。